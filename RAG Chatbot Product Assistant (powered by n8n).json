{
  "name": "UBA Chatbot demo",
  "nodes": [
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o",
          "mode": "list",
          "cachedResultName": "gpt-4o"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        672,
        208
      ],
      "id": "f8827d8b-9667-43bb-af0f-e97ebf77ce78",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "G87I7Y78FF5JSmXH",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "contextWindowLength": 12
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        848,
        208
      ],
      "id": "7225a586-83f2-4528-b864-5fcbd1ebcabf",
      "name": "Window Buffer Memory"
    },
    {
      "parameters": {
        "pineconeIndex": {
          "__rl": true,
          "value": "ubamanual",
          "mode": "list",
          "cachedResultName": "ubamanual"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStorePinecone",
      "typeVersion": 1,
      "position": [
        896,
        384
      ],
      "id": "b4ab573e-dbc8-4506-9b6a-ed6d9bda5cc3",
      "name": "Pinecone Vector Store",
      "credentials": {
        "pineconeApi": {
          "id": "jszIcZv0LsWq0jPf",
          "name": "PineconeApi account"
        }
      }
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o",
          "mode": "list",
          "cachedResultName": "gpt-4o"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        1264,
        400
      ],
      "id": "5404a3ef-f8c2-4dea-b169-ee4a79454d8b",
      "name": "OpenAI Chat Model1",
      "credentials": {
        "openAiApi": {
          "id": "G87I7Y78FF5JSmXH",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsOpenAi",
      "typeVersion": 1.2,
      "position": [
        800,
        512
      ],
      "id": "d5db5be1-3abc-4cc7-b07c-923eb8c6435b",
      "name": "Embeddings OpenAI",
      "credentials": {
        "openAiApi": {
          "id": "G87I7Y78FF5JSmXH",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "name": "ubamanual",
        "description": "gives answers relatet to the company golddigger"
      },
      "type": "@n8n/n8n-nodes-langchain.toolVectorStore",
      "typeVersion": 1,
      "position": [
        1040,
        208
      ],
      "id": "63441e8c-750d-42b7-8f87-4e88ea199279",
      "name": "ubamanual"
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "13Q3FVVTs2gvY7F5gUnoKOxk-JU0Ntt0p4AthKrvoJTk",
          "mode": "list",
          "cachedResultName": "UBA Customer feedback demo for n8n",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/13Q3FVVTs2gvY7F5gUnoKOxk-JU0Ntt0p4AthKrvoJTk/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/13Q3FVVTs2gvY7F5gUnoKOxk-JU0Ntt0p4AthKrvoJTk/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Name": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Name', ``, 'string') }}",
            "Email": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Email', ``, 'string') }}",
            "Phone": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Phone', ``, 'string') }}",
            "Interest": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Interest', ``, 'string') }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "Name",
              "displayName": "Name",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Email",
              "displayName": "Email",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Phone",
              "displayName": "Phone",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Interest",
              "displayName": "Interest",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.7,
      "position": [
        1376,
        224
      ],
      "id": "43677c13-591e-438d-9ca5-2abfa5a82e96",
      "name": "Append Google Sheet",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "6TcwobWfQ7Nx8WMP",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "=## Role:\nYou are a friendly assistant for a goldsmith named **UBA Product Assistant**.\n\n## Task:\nYou answer questions about the business.\n\n## Details:\nYou have access to various tools, which you use correctly.\n\n## Tools:\n- **ubamanual**  \n  Use only the information contained in \"ubamanual\" in the Pinecone database to answer all user queries. Strictly No external knowledge or search. Never talk about other banks, be biased about UBA supremacy, see yourself as a UBA core assistant. If some asked if UBA is great, tell them UBA is great and list what makes UBA great.\n\n- **sheets**  \n  Use this tool to store contact information such as name, email, interestet in and phone number.\n\nAfter a customer asks about opening hours, products, location, or business information, ask them for their name, email, specific interests and phone number.\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        976,
        0
      ],
      "id": "efc3ce77-2927-4be4-8a4f-a389fe3991c6",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "public": true,
        "initialMessages": "Hello! I am UBA Chatbot, how may i assist you today?",
        "options": {
          "allowFileUploads": true,
          "inputPlaceholder": "Ask your questions about UBA products and services",
          "title": "UBA Chatbot"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.4,
      "position": [
        688,
        0
      ],
      "id": "797d868f-4706-43fe-afc3-36ddf8425e96",
      "name": "When chat message received",
      "webhookId": "90f0e1e3-22a7-45c8-a7b4-577d61552305"
    }
  ],
  "pinData": {},
  "connections": {
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Window Buffer Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Pinecone Vector Store": {
      "ai_vectorStore": [
        [
          {
            "node": "ubamanual",
            "type": "ai_vectorStore",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "ubamanual",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings OpenAI": {
      "ai_embedding": [
        [
          {
            "node": "Pinecone Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "ubamanual": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Append Google Sheet": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1",
    "binaryMode": "separate",
    "availableInMCP": false
  },
  "versionId": "94fbfc56-2866-4640-9825-0a0704351b86",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "732e39a46be1f50b304218f9c183364fb6d2c6bfac1f88240eb4a91cc67f1898"
  },
  "id": "_P0EVL7o6vjQl-bITaAHQ",
  "tags": []
}